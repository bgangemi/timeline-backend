<!-- only the content for the popup -->
<div class="relative">
  <header class="
  z-10 
  px-6 py-4
  bg-stone-200
  flex flex-row justify-between items-center
  ">
    <h1 class="text-[1.8rem] md:text-[2.2rem] text-stone-800 font-medium mt-2 mb-2">{{ file.name }}</h1>
    <span class="text-lg text-stone-500">
    {% if first_event and last_event %}
      <span class="text-lg text-stone-500">
        {{ first_event.date|date:"Y" }} â†’ {{ last_event.date|date:"Y" }}
      </span>
    {% endif %}
    </span>
  </header>
  <div class="max-w-none px-6">
    <h3 class="text-xl font-medium md:text-2xl text-stone-800">Summary</h3>
    <div class="text-sm mb-6">{{ file.summary|safe }}</div>
    {% if events %}
    <h3 class="text-xl font-medium md:text-2xl text-stone-800">Timeline of events</h3>
    <div class="flex flex-row relative md:mt-6">
      <!-- timeline -->
      <div class="hidden md:block w-[2px] bg-stone-300 ml-5 md:ml-28 mt-2"></div>
        <div class="w-full md:pl-12 md:my-4">      
        {% for event in events %}
          <div class="border border-stone-100 relative mb-8 mt-4 bg-stone-100 -mx-2 px-2 w-auto">
            <div class="hidden md:block absolute top-1/2 left-0 h-3 w-3 border-2 border-stone-200 bg-amber-500 rounded-full -ml-[3rem] -translate-y-1/2"></div>
            <div class="hidden md:block absolute top-1/2 left-0 -ml-[10.5rem] -translate-y-1/2 px-2 flex flex-col justify-center items-center">
              <span class="text-sm block w-18 text-stone-500">{{ event.date }}</span>
            </div>
            <!-- Arrow -->
            <div class="hidden md:block absolute top-1/2 left-0 -ml-[10px] -translate-y-1/2">
              <div class="w-5 h-5 border border-slate-200 bg-stone-100 -ml-[1px]" style="transform: rotate(225deg); border-bottom-width: 0; border-left-width: 0;"></div>
            </div>
            <div class="p-3 md:px-4 md:py-4">
              <h4 class="text-lg md:text-2xl font-ui font-medium text-stone-700 mt-1">{{ event.name }}</h4>
              <div class="text-[0.85rem] md:text-sm">{{ event.description|safe }}</div>
              <!-- Other paragraphs as in original -->
            </div>
            <div class="flex flex-row border-t border-stone-100 text-stone-400 px-3 md:px-4 pb-3 pt-2 text-xs gap-4">
              <div class="flex items-center gap-2">
                <span class="text-stone-400 iconify block w-4 h-4" data-icon="solar:calendar-date-bold-duotone" data-inline="false"></span>
                <span class="inline-block align-middle mt-[2px]">{{ event.date }}</span>
              </div>
              <div class="flex items-center gap-2">
                <span class="text-stone-400 iconify block w-4 h-4" data-icon="solar:notes-bold-duotone" data-inline="false"></span>
                <span class="inline-block align-middle mt-[2px]">[##NOTES]</span>
              </div>
            </div>
          </div>
        {% endfor %}
        </div>
      </div>
      {% else %}
        No events have been logged in this file. Yet.
      {% endif %}
  </div>
</div>



<footer class="sticky bottom-0 flex justify-between w-full px-6 py-3 border-t border-stone-300 relative bg-stone-200">
  <span href="pdf">[PDF-EXPORT]</span>
  <button
    onclick="closeOverlay()"
    aria-label="Close overlay"
    class="text-xs font-bold text-amber-500"
  >
    CLOSE
  </button>
</footer>

